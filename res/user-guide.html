<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="å¿ƒè¿¹ç”¨æˆ·æŒ‡å— - ThoughtEcho User Guide">
    <meta name="theme-color" content="#a67c52">
    <title>å¿ƒè¿¹ç”¨æˆ·æŒ‡å— - ThoughtEcho User Guide</title>
    <link rel="icon" type="image/png" href="icon.png"/>
    <link rel="canonical" href="https://shangjin-xiao.github.io/ThoughtEcho/user-guide.html">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&family=Noto+Sans:wght@300;400;500;700&family=Long+Cang&family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">

    <style>
        /* ==================== CSS å˜é‡ ==================== */
        :root {
            --paper-white: #fefdfb;
            --paper-cream: #f9f6f0;
            --paper-yellow: #fff9e6;
            --paper-pink: #fff0f5;
            --paper-blue: #f0f8ff;
            --paper-green: #f0fff4;
            --line-color: #d4c5b9;
            --ink-dark: #2c2416;
            --ink-medium: #5a4a3a;
            --ink-light: #8b7355;
            --accent-brown: #a67c52;
            --accent-orange: #d4895b;
            --accent-blue: #5d94b8;
            --accent-green: #7ca982;
            --accent-red: #c66b6b;
            --shadow-soft: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.12);
            --shadow-hard: rgba(0, 0, 0, 0.2);
            --nav-bg: rgba(254, 253, 251, 0.85);
            --toc-width: 280px;
        }

        [data-theme="dark"] {
            --paper-white: #2a2520;
            --paper-cream: #342e28;
            --paper-yellow: #3d3630;
            --paper-pink: #3d3035;
            --paper-blue: #2d3540;
            --paper-green: #2d3a30;
            --line-color: #4a4037;
            --ink-dark: #e8dfd5;
            --ink-medium: #d4c5b9;
            --ink-light: #b8a99a;
            --nav-bg: rgba(42, 37, 32, 0.85);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 90px;
        }

        body {
            font-family: 'Noto Sans SC', 'Noto Sans', 'ZCOOL XiaoWei', serif;
            background: var(--paper-cream);
            color: var(--ink-dark);
            line-height: 1.8;
            overflow-x: hidden;
            position: relative;
            transition: background 0.3s ease, color 0.3s ease;
        }

        body.lang-en {
            font-family: 'Noto Sans', 'Noto Sans SC', 'ZCOOL XiaoWei', serif;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 32px, var(--line-color) 32px, var(--line-color) 33px),
                url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
            opacity: 0.35;
            z-index: -1;
            pointer-events: none;
        }

        .handwriting {
            font-family: 'Caveat', 'Long Cang', cursive;
        }

        body.lang-en .handwriting {
            font-family: 'Caveat', cursive;
        }

        /* ==================== å¯¼èˆªæ  ==================== */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: var(--nav-bg);
            border-bottom: 3px solid var(--accent-brown);
            box-shadow: 0 3px 12px var(--shadow-soft);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--ink-dark);
            transition: transform 0.3s ease;
        }

        .nav-brand:hover {
            transform: translateY(-2px);
        }

        .nav-logo img {
            width: 42px;
            height: 42px;
        }

        .nav-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--ink-dark);
            font-family: 'ZCOOL XiaoWei', serif;
        }

        .nav-actions {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .theme-toggle, .lang-toggle {
            width: 40px;
            height: 40px;
            border: 2px solid var(--accent-brown);
            background: var(--paper-yellow);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 2px 2px 4px var(--shadow-soft);
        }

        .lang-toggle {
            border-color: var(--accent-blue);
            background: var(--paper-blue);
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--accent-blue);
        }

        .theme-toggle:hover, .lang-toggle:hover {
            transform: scale(1.05);
            box-shadow: 3px 3px 8px var(--shadow-medium);
        }

        .btn-home {
            padding: 0.6rem 1.2rem;
            background: var(--accent-brown);
            color: var(--paper-white);
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            box-shadow: 3px 3px 0 var(--shadow-hard);
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .btn-home:hover {
            transform: translate(2px, 2px);
            box-shadow: 1px 1px 0 var(--shadow-hard);
        }

        /* ==================== ä¸»ä½“å¸ƒå±€ ==================== */
        .main-container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding-top: 80px;
        }

        /* ==================== ä¾§è¾¹ç›®å½• ==================== */
        .toc-sidebar {
            width: var(--toc-width);
            position: fixed;
            top: 80px;
            left: calc((100vw - 1400px) / 2);
            height: calc(100vh - 80px);
            overflow-y: auto;
            padding: 2rem 1rem;
            background: var(--paper-white);
            border-right: 2px solid var(--line-color);
        }

        @media (max-width: 1500px) {
            .toc-sidebar {
                left: 0;
            }
        }

        .toc-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-brown);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-brown);
        }

        .toc-list {
            list-style: none;
        }

        .toc-list li {
            margin-bottom: 0.3rem;
        }

        .toc-list a {
            color: var(--ink-medium);
            text-decoration: none;
            font-size: 0.9rem;
            display: block;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .toc-list a:hover {
            background: var(--paper-yellow);
            color: var(--accent-brown);
        }

        .toc-list a.active {
            background: var(--accent-brown);
            color: var(--paper-white);
        }

        .toc-list .toc-h2 {
            font-weight: 600;
        }

        .toc-list .toc-h3 {
            padding-left: 1.2rem;
            font-size: 0.85rem;
        }

        /* ==================== å†…å®¹åŒºåŸŸ ==================== */
        .content {
            flex: 1;
            margin-left: var(--toc-width);
            padding: 2rem 3rem;
            max-width: calc(100% - var(--toc-width));
        }

        .content-wrapper {
            max-width: 900px;
            margin: 0 auto;
        }

        .content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--ink-dark);
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 4px solid var(--accent-brown);
            font-family: 'ZCOOL XiaoWei', serif;
        }

        .content h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-brown);
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--line-color);
        }

        .content h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--ink-dark);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .content h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--ink-medium);
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }

        .content p {
            margin-bottom: 1rem;
            color: var(--ink-medium);
        }

        .content ul, .content ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .content li {
            margin-bottom: 0.5rem;
            color: var(--ink-medium);
        }

        .content strong {
            color: var(--ink-dark);
        }

        .content code {
            background: var(--paper-yellow);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: var(--accent-red);
        }

        .content pre {
            background: var(--paper-white);
            border: 2px solid var(--line-color);
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin-bottom: 1rem;
        }

        .content pre code {
            background: none;
            padding: 0;
            color: var(--ink-dark);
        }

        /* ==================== è¡¨æ ¼æ ·å¼ ==================== */
        .content table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            background: var(--paper-white);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px var(--shadow-soft);
        }

        .content th, .content td {
            padding: 0.8rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--line-color);
        }

        .content th {
            background: var(--accent-brown);
            color: var(--paper-white);
            font-weight: 600;
        }

        .content tr:hover {
            background: var(--paper-yellow);
        }

        /* ==================== æç¤ºæ¡† ==================== */
        .tip-box {
            background: var(--paper-blue);
            border-left: 4px solid var(--accent-blue);
            padding: 1rem 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 0 8px 8px 0;
        }

        .tip-box.warning {
            background: var(--paper-yellow);
            border-left-color: var(--accent-orange);
        }

        .tip-box.security {
            background: var(--paper-green);
            border-left-color: var(--accent-green);
        }

        .tip-box strong {
            color: var(--accent-blue);
        }

        .tip-box.warning strong {
            color: var(--accent-orange);
        }

        .tip-box.security strong {
            color: var(--accent-green);
        }

        /* ==================== å¡ç‰‡ç½‘æ ¼ ==================== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .feature-card {
            background: var(--paper-white);
            border: 2px solid var(--line-color);
            border-radius: 12px;
            padding: 1.2rem;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px var(--shadow-medium);
            border-color: var(--accent-brown);
        }

        .feature-card h4 {
            margin-top: 0;
            color: var(--accent-brown);
        }

        .feature-card p {
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* ==================== è¯­è¨€åˆ‡æ¢ ==================== */
        .lang-zh, .lang-en {
            display: none;
        }

        body:not(.lang-en) .lang-zh {
            display: block;
        }

        body.lang-en .lang-en {
            display: block;
        }

        /* ==================== å“åº”å¼è®¾è®¡ ==================== */
        @media (max-width: 1024px) {
            .toc-sidebar {
                display: none;
            }

            .content {
                margin-left: 0;
                max-width: 100%;
                padding: 2rem 1.5rem;
            }

            .mobile-toc-btn {
                display: flex;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 0.8rem 1rem;
            }

            .nav-title {
                font-size: 1.2rem;
            }

            .btn-home span {
                display: none;
            }

            .content {
                padding: 1.5rem 1rem;
            }

            .content h1 {
                font-size: 1.8rem;
            }

            .content h2 {
                font-size: 1.4rem;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ==================== ç§»åŠ¨ç«¯ç›®å½•æŒ‰é’® ==================== */
        .mobile-toc-btn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--accent-brown);
            color: var(--paper-white);
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 15px var(--shadow-hard);
            z-index: 900;
            align-items: center;
            justify-content: center;
        }

        .mobile-toc-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1100;
        }

        .mobile-toc-overlay.active {
            display: block;
        }

        .mobile-toc-panel {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 300px;
            height: 100%;
            background: var(--paper-white);
            z-index: 1200;
            padding: 2rem 1rem;
            overflow-y: auto;
            transition: left 0.3s ease;
        }

        .mobile-toc-panel.active {
            left: 0;
        }

        .mobile-toc-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 36px;
            height: 36px;
            background: var(--paper-yellow);
            border: 2px solid var(--accent-brown);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ==================== å›åˆ°é¡¶éƒ¨ ==================== */
        .back-to-top {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 45px;
            height: 45px;
            background: var(--accent-blue);
            color: var(--paper-white);
            border: none;
            border-radius: 50%;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: 0 4px 12px var(--shadow-medium);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 800;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: scale(1.1);
            background: var(--accent-brown);
        }

        /* ==================== æ»šåŠ¨æ¡ ==================== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--paper-cream);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--line-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-brown);
        }

        /* ==================== é¡µè„š ==================== */
        .footer {
            background: var(--paper-white);
            border-top: 3px solid var(--accent-brown);
            padding: 2rem;
            text-align: center;
            margin-left: var(--toc-width);
        }

        @media (max-width: 1024px) {
            .footer {
                margin-left: 0;
            }
        }

        .footer p {
            color: var(--ink-light);
            font-size: 0.9rem;
        }

        .footer a {
            color: var(--accent-brown);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <div class="nav-logo">
                    <img src="icon.png" alt="ThoughtEcho Logo">
                </div>
                <span class="nav-title lang-zh">å¿ƒè¿¹ç”¨æˆ·æŒ‡å—</span>
                <span class="nav-title lang-en">User Guide</span>
            </a>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">ğŸŒ™</button>
                <button class="lang-toggle" id="langToggle">EN</button>
                <a href="index.html" class="btn-home">
                    <span class="lang-zh">è¿”å›é¦–é¡µ</span>
                    <span class="lang-en">Home</span>
                    ğŸ 
                </a>
            </div>
        </div>
    </nav>

    <!-- ä¾§è¾¹ç›®å½• -->
    <aside class="toc-sidebar" id="tocSidebar">
        <h3 class="toc-title lang-zh">ğŸ“‘ ç›®å½•</h3>
        <h3 class="toc-title lang-en">ğŸ“‘ Contents</h3>
        <ul class="toc-list" id="tocList">
            <!-- åŠ¨æ€ç”Ÿæˆ -->
        </ul>
    </aside>

    <!-- ç§»åŠ¨ç«¯ç›®å½• -->
    <button class="mobile-toc-btn" id="mobileTocBtn">ğŸ“‘</button>
    <div class="mobile-toc-overlay" id="mobileTocOverlay"></div>
    <div class="mobile-toc-panel" id="mobileTocPanel">
        <button class="mobile-toc-close" id="mobileTocClose">âœ•</button>
        <h3 class="toc-title lang-zh">ğŸ“‘ ç›®å½•</h3>
        <h3 class="toc-title lang-en">ğŸ“‘ Contents</h3>
        <ul class="toc-list" id="mobileTocList">
            <!-- åŠ¨æ€ç”Ÿæˆ -->
        </ul>
    </div>

    <!-- ä¸»å†…å®¹ -->
    <div class="main-container">
        <main class="content">
            <div class="content-wrapper">
                <!-- Chinese Version -->
                <div class="lang-zh">
                    <h1 id="manual-title-zh">å¿ƒè¿¹ (ThoughtEcho) ç”¨æˆ·æ‰‹å†Œ</h1>
                    <p>æ¬¢è¿ä½¿ç”¨å¿ƒè¿¹ï¼Œæ‚¨çš„ä¸“å± AI çµæ„Ÿç¬”è®°æœ¬ã€‚æœ¬æ‰‹å†Œå°†å¸®åŠ©æ‚¨å¿«é€Ÿäº†è§£åº”ç”¨çš„å…¨éƒ¨åŠŸèƒ½ã€‚</p>
                    
                    <h2 id="quick-start-zh">1. å¿«é€Ÿå…¥é—¨</h2>
                    <section>
                        <h3>é¦–æ¬¡å¯åŠ¨</h3>
                        <ul>
                            <li>åº”ç”¨ä¼šæ˜¾ç¤ºå¼•å¯¼é¡µé¢ï¼Œä»‹ç»æ ¸å¿ƒåŠŸèƒ½</li>
                            <li>å¯é€‰æ‹©è¯­è¨€åå¥½å’Œä¸€è¨€ç±»å‹</li>
                            <li>å¦‚æœ‰æ—§ç‰ˆæ•°æ®ï¼Œæ”¯æŒè‡ªåŠ¨è¿ç§»</li>
                        </ul>
                        <h3>ä¸»é¡µç•Œé¢</h3>
                        <ul>
                            <li><strong>åº•éƒ¨å¯¼èˆª</strong>ï¼šé¦–é¡µã€ç¬”è®°åˆ—è¡¨ã€æ´å¯Ÿã€è®¾ç½®</li>
                            <li><strong>æ¯æ—¥çµæ„Ÿ</strong>ï¼šæ˜¾ç¤ºä¸€è¨€å’Œ AI ç”Ÿæˆçš„å†™ä½œæç¤º</li>
                            <li><strong>å¿«é€Ÿæ•è·æŒ‰é’®ï¼ˆ+ï¼‰</strong>ï¼š
                                <ul>
                                    <li>çŸ­æŒ‰ï¼šå¿«é€Ÿæ·»åŠ ç¬”è®°</li>
                                    <li>é•¿æŒ‰ï¼šè¯­éŸ³è¾“å…¥</li>
                                </ul>
                            </li>
                            <li><strong>å‰ªè´´æ¿æ£€æµ‹</strong>ï¼šåˆ‡å›åº”ç”¨æ—¶è‡ªåŠ¨æ£€æµ‹å‰ªè´´æ¿å†…å®¹å¹¶æç¤ºä¿å­˜</li>
                        </ul>
                    </section>

                    <h2 id="ai-config-zh">2. AI æœåŠ¡é…ç½®</h2>
                    <section>
                        <div class="tip-box warning">
                            <p>âš ï¸ <strong>é‡è¦</strong>ï¼šAI åŠŸèƒ½éœ€è¦é…ç½® API Key æ‰èƒ½ä½¿ç”¨</p>
                        </div>
                        <p><strong>è®¿é—®è·¯å¾„</strong>ï¼šè®¾ç½® â†’ AI åŠ©æ‰‹è®¾ç½®</p>
                        
                        <h3>æ”¯æŒçš„æœåŠ¡å•†</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>æœåŠ¡å•†</th>
                                    <th>API åœ°å€</th>
                                    <th>é»˜è®¤æ¨¡å‹</th>
                                    <th>è¯´æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>OpenAI</strong></td>
                                    <td><code>https://api.openai.com/v1/chat/completions</code></td>
                                    <td>gpt-4o</td>
                                    <td>å®˜æ–¹ OpenAI æœåŠ¡</td>
                                </tr>
                                <tr>
                                    <td><strong>OpenRouter</strong></td>
                                    <td><code>https://openrouter.ai/api/v1/chat/completions</code></td>
                                    <td>openai/gpt-4o</td>
                                    <td>å¤šæ¨¡å‹èšåˆå¹³å°</td>
                                </tr>
                                <tr>
                                    <td><strong>SiliconFlow</strong></td>
                                    <td><code>https://api.siliconflow.cn/v1/chat/completions</code></td>
                                    <td>(ç”¨æˆ·è‡ªé€‰)</td>
                                    <td>å›½å†… AI æœåŠ¡</td>
                                </tr>
                                <tr>
                                    <td><strong>DeepSeek</strong></td>
                                    <td><code>https://api.deepseek.com/v1/chat/completions</code></td>
                                    <td>deepseek-chat</td>
                                    <td>å›½äº§å¤§æ¨¡å‹</td>
                                </tr>
                                <tr>
                                    <td><strong>Anthropic Claude</strong></td>
                                    <td><code>https://api.anthropic.com/v1/messages</code></td>
                                    <td>claude-3.7-sonnet-latest</td>
                                    <td>Claude ç³»åˆ—æ¨¡å‹</td>
                                </tr>
                                <tr>
                                    <td><strong>Ollama (æœ¬åœ°)</strong></td>
                                    <td><code>http://localhost:11434/v1/chat/completions</code></td>
                                    <td>(ç”¨æˆ·è‡ªé€‰)</td>
                                    <td>æœ¬åœ°è¿è¡Œå¼€æºæ¨¡å‹</td>
                                </tr>
                                <tr>
                                    <td><strong>LMStudio (æœ¬åœ°)</strong></td>
                                    <td><code>http://localhost:1234/v1/chat/completions</code></td>
                                    <td>(ç”¨æˆ·è‡ªé€‰)</td>
                                    <td>æœ¬åœ°æ¨¡å‹æ¨ç†</td>
                                </tr>
                                <tr>
                                    <td><strong>è‡ªå®šä¹‰</strong></td>
                                    <td>(ç”¨æˆ·é…ç½®)</td>
                                    <td>(ç”¨æˆ·é…ç½®)</td>
                                    <td>å…¼å®¹ OpenAI API æ ¼å¼çš„ä»»æ„æœåŠ¡</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3>è¯¦ç»†é…ç½®æ­¥éª¤</h3>
                        <h4>äº‘æœåŠ¡å•†é…ç½®ï¼ˆä»¥ OpenAI ä¸ºä¾‹ï¼‰</h4>
                        <ol>
                            <li>æ‰“å¼€ã€Œè®¾ç½®ã€â†’ã€ŒAI åŠ©æ‰‹è®¾ç½®ã€</li>
                            <li>ç‚¹å‡»ã€Œæ·»åŠ æœåŠ¡å•†ã€æˆ–é€‰æ‹©é¢„è®¾æœåŠ¡å•†</li>
                            <li>é€‰æ‹©ã€ŒOpenAIã€é¢„è®¾</li>
                            <li>åœ¨ API Key è¾“å…¥æ¡†ä¸­å¡«å…¥æ‚¨çš„å¯†é’¥ï¼ˆä»¥ <code>sk-</code> å¼€å¤´ï¼‰</li>
                            <li>å¯é€‰ï¼šä¿®æ”¹æ¨¡å‹åç§°ï¼ˆå¦‚ <code>gpt-4o</code>ã€<code>gpt-4-turbo</code>ï¼‰</li>
                            <li>å¯é€‰ï¼šè°ƒæ•´æ¸©åº¦å‚æ•°ï¼ˆ0-2ï¼Œè¶Šé«˜è¶Šæœ‰åˆ›æ„ï¼‰</li>
                            <li>å¯é€‰ï¼šè°ƒæ•´æœ€å¤§ Token æ•°ï¼ˆé»˜è®¤ 32000ï¼‰</li>
                            <li>ç‚¹å‡»ã€Œæµ‹è¯•è¿æ¥ã€éªŒè¯é…ç½®</li>
                            <li>ä¿å­˜è®¾ç½®</li>
                        </ol>

                        <h4>æœ¬åœ° AI é…ç½®ï¼ˆOllamaï¼‰</h4>
                        <ol>
                            <li><strong>å®‰è£… Ollama</strong>
                                <ul>
                                    <li>è®¿é—® <a href="https://ollama.ai" target="_blank">ollama.ai</a> ä¸‹è½½å®‰è£…</li>
                                    <li>è¿è¡Œ <code>ollama pull llama3.1</code> ä¸‹è½½æ¨¡å‹</li>
                                </ul>
                            </li>
                            <li><strong>åœ¨å¿ƒè¿¹ä¸­é…ç½®</strong>
                                <ul>
                                    <li>æ‰“å¼€ã€ŒAI åŠ©æ‰‹è®¾ç½®ã€</li>
                                    <li>é€‰æ‹©ã€ŒOllamaã€é¢„è®¾</li>
                                    <li>API åœ°å€ä¿æŒé»˜è®¤ï¼š<code>http://localhost:11434/v1/chat/completions</code></li>
                                    <li>æ¨¡å‹åç§°å¡«å†™æ‚¨ä¸‹è½½çš„æ¨¡å‹ï¼ˆå¦‚ <code>llama3.1</code>ï¼‰</li>
                                    <li>API Key å¯ç•™ç©º</li>
                                    <li>æµ‹è¯•è¿æ¥å¹¶ä¿å­˜</li>
                                </ul>
                            </li>
                        </ol>

                        <div class="tip-box security">
                            <p>ğŸ” <strong>å®‰å…¨æœºåˆ¶</strong>ï¼š</p>
                            <ul>
                                <li>API Key ä½¿ç”¨ <code>flutter_secure_storage</code> åŠ å¯†å­˜å‚¨</li>
                                <li>å¯†é’¥ä¸ä¼šä»¥æ˜æ–‡å½¢å¼ä¿å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­</li>
                                <li>å¯†é’¥ä¸ä¼šåŒ…å«åœ¨å¤‡ä»½æ–‡ä»¶ä¸­</li>
                                <li>æ”¯æŒ API Key æ ¼å¼éªŒè¯ï¼ˆOpenAI: <code>sk-*</code>ï¼ŒOpenRouter: <code>sk_*</code> æˆ– <code>or_*</code>ï¼‰</li>
                            </ul>
                        </div>
                    </section>

                    <h2 id="editor-zh">3. å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h2>
                    <section>
                        <h3>å·¥å…·æ åŠŸèƒ½ï¼ˆ11 ç»„ï¼‰</h3>
                        <div class="card-grid">
                            <div class="feature-card">
                                <h4>å†å²æ“ä½œ</h4>
                                <p>æ”¯æŒæ’¤é”€ (Undo) å’Œé‡åš (Redo)ã€‚</p>
                            </div>
                            <div class="feature-card">
                                <h4>æ–‡å­—æ ·å¼</h4>
                                <p>åŠ ç²— (B)ã€æ–œä½“ (I)ã€ä¸‹åˆ’çº¿ (U)ã€åˆ é™¤çº¿ã€‚</p>
                            </div>
                            <div class="feature-card">
                                <h4>æ ‡é¢˜</h4>
                                <p>æ”¯æŒ H1-H6 å¤šçº§æ ‡é¢˜åˆ‡æ¢ã€‚</p>
                            </div>
                            <div class="feature-card">
                                <h4>åª’ä½“æ’å…¥</h4>
                                <p>æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ï¼ˆæ–‡ä»¶/URL/æ‹æ‘„ï¼‰ã€‚</p>
                            </div>
                        </div>

                        <h3>AI è¾…åŠ©åŠŸèƒ½ï¼ˆâœ¨ æŒ‰é’®ï¼‰</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>åŠŸèƒ½</th>
                                    <th>è¯´æ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>æ™ºèƒ½åˆ†ææ¥æº</strong></td>
                                    <td>åˆ†æç¬”è®°å†…å®¹ï¼ŒçŒœæµ‹ä½œè€…ã€å‡ºå¤„ï¼Œå¹¶ç»™å‡ºç½®ä¿¡åº¦å’Œè§£é‡Š</td>
                                </tr>
                                <tr>
                                    <td><strong>æ¶¦è‰²æ–‡æœ¬</strong></td>
                                    <td>AI æ”¹è¿›æ–‡å­—è¡¨è¾¾ï¼Œæµå¼æ˜¾ç¤ºæ¶¦è‰²ç»“æœï¼Œå¯ä¸€é”®åº”ç”¨</td>
                                </tr>
                                <tr>
                                    <td><strong>ç»­å†™</strong></td>
                                    <td>AI æ ¹æ®ä¸Šä¸‹æ–‡ç»§ç»­æ‚¨çš„æ€è·¯ï¼Œæµå¼ç”Ÿæˆå†…å®¹</td>
                                </tr>
                                <tr>
                                    <td><strong>æ·±åº¦åˆ†æ</strong></td>
                                    <td>å¯¹ç¬”è®°è¿›è¡Œç»¼åˆåˆ†æï¼Œç”Ÿæˆ Markdown æ ¼å¼çš„æ´å¯Ÿ</td>
                                </tr>
                                <tr>
                                    <td><strong>é—®ç¬”è®°</strong></td>
                                    <td>æ‰“å¼€å•ç‹¬çš„å¯¹è¯é¡µé¢ï¼Œé’ˆå¯¹ç¬”è®°å†…å®¹æé—®äº¤æµ</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <h2 id="note-mgmt-zh">4. ç¬”è®°ç®¡ç†</h2>
                    <section>
                        <h3>æ’åºä¸ç­›é€‰</h3>
                        <p>æ”¯æŒæŒ‰æ—¶é—´ã€åç§°ã€å–œçˆ±åº¦æ’åºã€‚æä¾›å¤šç»´ç­›é€‰ï¼šæ ‡ç­¾ã€å¤©æ°”ï¼ˆæ™´ã€é˜´ã€é›¨ç­‰ï¼‰ã€æ—¶é—´æ®µï¼ˆæ—©ã€ä¸­ã€æ™šï¼‰ã€‚</p>
                        
                        <h3>AI å¡ç‰‡ç”Ÿæˆï¼ˆ20 ç§æ¨¡æ¿ï¼‰</h3>
                        <p>ç‚¹å‡»ã€Œç”Ÿæˆå¡ç‰‡ã€åï¼ŒAI ä¼šæ ¹æ®ç¬”è®°å†…å®¹ç”Ÿæˆ SVG æ ¼å¼çš„ç²¾ç¾å¡ç‰‡ã€‚é£æ ¼åŒ…æ‹¬ï¼šKnowledge (æå…‰æ¸å˜), Mindful (çº¸å¼ çº¹ç†), Neon Cyber (éœ“è™¹çº¿æ¡) ç­‰ã€‚</p>
                    </section>

                    <h2 id="ai-features-zh">5. AI åŠŸèƒ½</h2>
                    <section>
                        <h3>æ¯æ—¥çµæ„Ÿ</h3>
                        <p>åŸºäºæ—¶é—´ã€å¤©æ°”ã€ä½ç½®ç­‰ä¸Šä¸‹æ–‡ï¼ŒAI ç”Ÿæˆä¸ªæ€§åŒ–çš„å†™ä½œæç¤ºã€‚æµå¼ç”Ÿæˆï¼Œå®æ—¶æ˜¾ç¤ºã€‚</p>
                        
                        <h3>å‘¨æœŸæ€§æŠ¥å‘Š</h3>
                        <p>æä¾›å‘¨æŠ¥ã€æœˆæŠ¥ã€å¹´æŠ¥ã€‚åŒ…å«ç¬”è®°ç»Ÿè®¡ã€å­—æ•°åˆ†æã€æ´»è·ƒè¶‹åŠ¿ä»¥åŠ AI ç”Ÿæˆçš„è¯—æ„æ´å¯Ÿã€‚</p>
                        
                        <h3>åˆ†æç»´åº¦</h3>
                        <ul>
                            <li><strong>ç»¼åˆåˆ†æ</strong>ï¼šå…¨æ–¹ä½æ¦‚è§ˆä¸»é¢˜ä¸æƒ…æ„Ÿã€‚</li>
                            <li><strong>æƒ…æ„Ÿåˆ†æ</strong>ï¼šè¯†åˆ«æ·±å±‚æƒ…ç»ªä¸è§¦å‘å› ç´ ã€‚</li>
                            <li><strong>æ€ç»´å¯¼å›¾</strong>ï¼šæå–æ ¸å¿ƒæ€æƒ³èŠ‚ç‚¹ã€‚</li>
                            <li><strong>æˆé•¿åˆ†æ</strong>ï¼šåˆ¶å®š 30 å¤©è¡ŒåŠ¨è®¡åˆ’ã€‚</li>
                        </ul>
                    </section>

                    <h2 id="sync-zh">6. è®¾å¤‡åŒæ­¥</h2>
                    <section>
                        <p>ä½¿ç”¨ <strong>LocalSend</strong> åè®®è¿›è¡Œå±€åŸŸç½‘ P2P åŒæ­¥ï¼Œæ— éœ€äº‘æœåŠ¡å™¨ã€‚æ”¯æŒå¤šå¹³å°ï¼šAndroid, iOS, Windows, macOS, Linuxã€‚</p>
                        <div class="tip-box">
                            <p><strong>åŒæ­¥ç­–ç•¥</strong>ï¼šé‡‡ç”¨ LWW (Last-Write-Wins) ç­–ç•¥ï¼Œè‡ªåŠ¨è¯†åˆ«å¹¶åˆå¹¶æœ€æ–°ä¿®æ”¹ã€‚</p>
                        </div>
                    </section>

                    <h2 id="backup-zh">7. å¤‡ä»½ä¸æ¢å¤</h2>
                    <section>
                        <p>æ¨èä½¿ç”¨ <strong>ZIP æ ¼å¼</strong> (v1.2.0+)ï¼ŒåŒ…å« <code>backup_data.json</code> å’Œ <code>media/</code> åª’ä½“åº“ã€‚æ”¯æŒåˆå¹¶ä¸è¦†ç›–ä¸¤ç§æ¢å¤æ¨¡å¼ã€‚</p>
                    </section>

                    <h2 id="settings-zh">8. è®¾ç½®è¯¦è§£</h2>
                    <section>
                        <p>æ”¯æŒä¸ªæ€§åŒ–å®šåˆ¶ï¼šä½ç½®å¤©æ°”å¼€å…³ã€å¤šå›½è¯­è¨€ã€åŠ¨æ€é¢œè‰² (Material You)ã€ç”Ÿç‰©è¯†åˆ«è®¤è¯ã€ä¸€è¨€ç±»å‹ç­›é€‰ç­‰ã€‚</p>
                    </section>

                    <h2 id="dev-mode-zh">9. å¼€å‘è€…æ¨¡å¼</h2>
                    <section>
                        <p>åœ¨ã€Œå…³äºå¿ƒè¿¹ã€é¡µé¢è¿ç»­ç‚¹å‡»å›¾æ ‡ 3 æ¬¡æ¿€æ´»ã€‚æä¾›æœ¬åœ° AI é¢„è§ˆã€æ—¥å¿—å®æ—¶ç›‘æ§ã€æ•°æ®åº“è°ƒè¯•ä¿¡æ¯ç­‰è¿›é˜¶åŠŸèƒ½ã€‚</p>
                    </section>

                    <h2 id="faq-zh">10. å¸¸è§é—®é¢˜</h2>
                    <section>
                        <p><strong>Q: AI å“åº”å¾ˆæ…¢ï¼Ÿ</strong><br>A: æœ¬åœ° AI å—è®¾å¤‡æ€§èƒ½é™åˆ¶ï¼Œäº‘æœåŠ¡å¯èƒ½å—ç½‘ç»œæ³¢åŠ¨å½±å“ã€‚å»ºè®®å°è¯•æ›´è½»é‡çš„æ¨¡å‹æˆ–è°ƒæ•´ <code>max_tokens</code>ã€‚</p>
                        <p><strong>Q: åŒæ­¥å‘ç°ä¸åˆ°è®¾å¤‡ï¼Ÿ</strong><br>A: è¯·ç¡®ä¿åœ¨åŒä¸€ Wi-Fi ä¸‹ï¼Œæ£€æŸ¥é˜²ç«å¢™è®¾ç½®ã€‚iOS è®¾å¤‡éœ€å¼€å¯æœ¬åœ°ç½‘ç»œæƒé™ã€‚</p>
                    </section>
                </div>

                <!-- English Version -->
                <div class="lang-en">
                    <h1 id="manual-title-en">ThoughtEcho User Manual</h1>
                    <p>Welcome to ThoughtEcho, your personal AI-powered inspiration notebook. This manual will help you understand all features of the app.</p>
                    
                    <h2 id="quick-start-en">1. Getting Started</h2>
                    <section>
                        <h3>First Launch</h3>
                        <ul>
                            <li>App displays onboarding pages introducing core features</li>
                            <li>Choose language preferences and Hitokoto types</li>
                            <li>Supports automatic migration from older versions</li>
                        </ul>
                        <h3>Home Interface</h3>
                        <ul>
                            <li><strong>Bottom Navigation</strong>: Home, Notes, Insights, Settings</li>
                            <li><strong>Daily Inspiration</strong>: Shows Hitokoto quote and AI writing prompts</li>
                            <li><strong>Quick Capture Button (+)</strong>:
                                <ul>
                                    <li>Short press: Quick add note</li>
                                    <li>Long press: Voice input</li>
                                </ul>
                            </li>
                            <li><strong>Clipboard Detection</strong>: Auto-detects clipboard content when returning to app</li>
                        </ul>
                    </section>

                    <h2 id="ai-config-en">2. AI Service Configuration</h2>
                    <section>
                        <div class="tip-box warning">
                            <p>âš ï¸ <strong>Important</strong>: AI features require API Key configuration</p>
                        </div>
                        <p><strong>Access Path</strong>: Settings â†’ AI Assistant Settings</p>
                        
                        <h3>Supported Providers</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Provider</th>
                                    <th>API URL</th>
                                    <th>Default Model</th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>OpenAI</strong></td>
                                    <td><code>https://api.openai.com/v1/chat/completions</code></td>
                                    <td>gpt-4o</td>
                                    <td>Official OpenAI service</td>
                                </tr>
                                <tr>
                                    <td><strong>OpenRouter</strong></td>
                                    <td><code>https://openrouter.ai/api/v1/chat/completions</code></td>
                                    <td>openai/gpt-4o</td>
                                    <td>Multi-model aggregation</td>
                                </tr>
                                <tr>
                                    <td><strong>DeepSeek</strong></td>
                                    <td><code>https://api.deepseek.com/v1/chat/completions</code></td>
                                    <td>deepseek-chat</td>
                                    <td>Chinese LLM</td>
                                </tr>
                                <tr>
                                    <td><strong>Ollama (Local)</strong></td>
                                    <td><code>http://localhost:11434/v1/chat/completions</code></td>
                                    <td>(custom)</td>
                                    <td>Local open-source models</td>
                                </tr>
                                <tr>
                                    <td><strong>LMStudio (Local)</strong></td>
                                    <td><code>http://localhost:1234/v1/chat/completions</code></td>
                                    <td>(custom)</td>
                                    <td>Local model inference</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="tip-box security">
                            <p>ğŸ” <strong>Security</strong>: Keys are encrypted via <code>flutter_secure_storage</code> and never included in backups.</p>
                        </div>
                    </section>

                    <h2 id="editor-en">3. Rich Text Editor</h2>
                    <section>
                        <h3>Toolbar & AI</h3>
                        <p>Comprehensive editing tools plus AI âœ¨ features: <strong>Smart Analyze</strong>, <strong>Polish Text</strong>, <strong>Continue Writing</strong>, and <strong>Deep Analysis</strong>.</p>
                        <p>Auto-save keeps your drafts safe every 2 seconds.</p>
                    </section>

                    <h2 id="note-mgmt-en">4. Note Management</h2>
                    <section>
                        <p>Sort by time, name, or favorites. Filter by tags, weather, and creation periods. Generate 20+ styles of AI cards for social sharing.</p>
                    </section>

                    <h2 id="ai-features-en">5. AI Features</h2>
                    <section>
                        <h3>Insights & Reports</h3>
                        <p>Weekly, Monthly, and Yearly reports with AI-generated poetic insights. Advanced analysis including <strong>Emotional Analysis</strong> and <strong>Mindmapping</strong>.</p>
                    </section>

                    <h2 id="sync-en">6. Device Sync</h2>
                    <section>
                        <p>LAN P2P synchronization using <strong>LocalSend</strong>. Cross-platform support for Android, iOS, Windows, and macOS. Uses Last-Write-Wins (LWW) conflict resolution.</p>
                    </section>

                    <h2 id="backup-en">7. Backup & Restore</h2>
                    <section>
                        <p>ZIP backups including all media files. Supports Overwrite and Merge restore modes for flexible data management.</p>
                    </section>

                    <h2 id="settings-en">8. Settings Guide</h2>
                    <section>
                        <p>Customize language, Material You dynamic colors, biometric authentication, and smart push notifications.</p>
                    </section>

                    <h2 id="dev-mode-en">9. Developer Mode</h2>
                    <section>
                        <p>Triple-tap the icon in "About" to unlock advanced debugging tools, log persistence, and experimental local AI settings.</p>
                    </section>

                    <h2 id="faq-en">10. FAQ</h2>
                    <section>
                        <p><strong>Q: AI not working?</strong><br>A: Verify API Key, check connection, and ensure sufficient balance/quota.</p>
                        <p><strong>Q: Sync failing?</strong><br>A: Ensure same Wi-Fi, disable VPNs, and grant local network permissions on mobile.</p>
                    </section>
                </div>

            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p class="lang-zh">Â© 2024 å¿ƒè¿¹ ThoughtEcho | <a href="index.html">è¿”å›é¦–é¡µ</a></p>
        <p class="lang-en">Â© 2024 ThoughtEcho | <a href="index.html">Back to Home</a></p>
    </footer>

    <!-- Back to Top -->
    <button class="back-to-top" id="backToTop">â†‘</button>

    <script>
        // ==================== çŠ¶æ€ç®¡ç† ====================
        const state = {
            theme: localStorage.getItem('theme') || 'light',
            lang: localStorage.getItem('lang') || 'zh'
        };

        // ==================== ä¸»é¢˜åˆ‡æ¢ ====================
        const themeToggle = document.getElementById('themeToggle');
        
        function applyTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            themeToggle.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
            localStorage.setItem('theme', theme);
        }

        themeToggle.addEventListener('click', () => {
            state.theme = state.theme === 'dark' ? 'light' : 'dark';
            applyTheme(state.theme);
        });

        applyTheme(state.theme);

        // ==================== è¯­è¨€åˆ‡æ¢ ====================
        const langToggle = document.getElementById('langToggle');
        
        function applyLang(lang) {
            if (lang === 'en') {
                document.body.classList.add('lang-en');
                langToggle.textContent = 'ä¸­';
            } else {
                document.body.classList.remove('lang-en');
                langToggle.textContent = 'EN';
            }
            localStorage.setItem('lang', lang);
            generateTOC(); // è¯­è¨€åˆ‡æ¢åé‡ç»˜ç›®å½•
        }

        langToggle.addEventListener('click', () => {
            state.lang = state.lang === 'en' ? 'zh' : 'en';
            applyLang(state.lang);
        });

        applyLang(state.lang);

        // ==================== ç›®å½•ç”Ÿæˆ ====================
        function generateTOC() {
            const container = document.querySelector(state.lang === 'en' ? '.lang-en' : '.lang-zh');
            const headers = container.querySelectorAll('h2, h3');
            const tocList = document.getElementById('tocList');
            const mobileTocList = document.getElementById('mobileTocList');
            
            tocList.innerHTML = '';
            mobileTocList.innerHTML = '';

            headers.forEach((header, index) => {
                const id = header.id || `section-${state.lang}-${index}`;
                header.id = id;

                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = `#${id}`;
                a.textContent = header.textContent;
                a.className = header.tagName === 'H2' ? 'toc-h2' : 'toc-h3';
                
                li.appendChild(a);
                tocList.appendChild(li);
                mobileTocList.appendChild(li.cloneNode(true));
            });
        }

        // ==================== æ»šåŠ¨ç›‘å¬ (Scroll Spy) ====================
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('h2, h3');
            const navLinks = document.querySelectorAll('.toc-list a');
            const backToTop = document.getElementById('backToTop');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });

            // å›åˆ°é¡¶éƒ¨æŒ‰é’®å¯è§æ€§
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        // ==================== ç§»åŠ¨ç«¯ç›®å½•é¢æ¿ ====================
        const mobileTocBtn = document.getElementById('mobileTocBtn');
        const mobileTocClose = document.getElementById('mobileTocClose');
        const mobileTocPanel = document.getElementById('mobileTocPanel');
        const mobileTocOverlay = document.getElementById('mobileTocOverlay');

        function toggleMobileTOC() {
            mobileTocPanel.classList.toggle('active');
            mobileTocOverlay.classList.toggle('active');
        }

        mobileTocBtn.addEventListener('click', toggleMobileTOC);
        mobileTocClose.addEventListener('click', toggleMobileTOC);
        mobileTocOverlay.addEventListener('click', toggleMobileTOC);

        // ç‚¹å‡»ç›®å½•é¡¹åè‡ªåŠ¨å…³é—­
        document.getElementById('mobileTocList').addEventListener('click', (e) => {
            if (e.target.tagName === 'A') toggleMobileTOC();
        });

        // ==================== å›åˆ°é¡¶éƒ¨ ====================
        document.getElementById('backToTop').addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // åˆå§‹åŒ–ç”Ÿæˆç›®å½•
        generateTOC();
    </script>
</body>
</html>